extends base

block head 
    script(src="/js/mapBox.js" defer)
    script(src="/js/colourantForm.js" defer)
    script(src="/js/map.js" type="module")
    
   
    
block main 
    main.map 
        .map__container
            .map-box#map
        .search
            form.form(autocomplete="off")
                .search__box.u-mrg-top-m
                    .form__group
                        label.form__label(for="search") Pigments
                        select#pigment.form__dropdown
                            option(value="" selected ) All pigments
                            each pigment in data.pigments
                                option(id=`${pigment}` value=`${pigment}`)= `${pigment}`              
                        input#other-pigment.form__input.form__input--small.form__input--border(hidden)            
                    .form__group
                        label.form__label(for="techniques") Analytical techniques
                        select#techniques.form__dropdown
                            option(value="" selected) All techniques
                            each technique in data.techniques
                                option(value=`${technique}`)= `${technique}`  
                        .form__group
                        label.form__label(for="category-of-find") Category of find
                        select#category-of-find.form__dropdown
                            option(value="" selected) All categories
                            each category in data.categoryOfFind
                                option(value=`${category}`)= `${category}`             
                    .form__group--border
                    label.form__label(for="chr-start") From
                    div
                        select#chr-start.form__dropdown.chr( name="chr-start"  ) 
                            option(value="BCE" selected) BCE
                            option(value="CE") CE            
                        select#century-start.form__dropdown.century( name="century-start"   ) 
                            option(value="" disabled selected hidden) Select chronology
                            optgroup.bce-optgroup(label="BCE" ) 
                                each chr in data.chronologies
                                    if (chr <= 0)
                                        option(class="bce" value=`${chr}`)=`${chr * -1} `
                            optgroup.ce-optgroup(label="CE" disabled hidden) 
                                each chr in data.chronologies  
                                    if (chr >= 0)
                                        option(class="ce" value=`${chr}`)=`${chr}`  
                    label.form__label(for="chr-end") to
                    div
                        select#chr-end.form__dropdown.chr( name="chr-end" ) 
                            option(value="BCE" selected) BCE
                            option(value="CE") CE            
                        select#century-end.form__dropdown.century( name="century-end" ) 
                            option(value="" disabled selected hidden) Select chronology
                            optgroup.bce-optgroup(label="BCE" ) 
                                each chr in data.chronologies
                                    if (chr <= 0)
                                        option(class="bce" value=`${chr}`)=`${chr * -1} `
                            optgroup.ce-optgroup(label="CE" disabled hidden) 
                                each chr in data.chronologies  
                                    if (chr >= 0)
                                        option(class="ce" value=`${chr}`)=`${chr}`    
                        if user && user.role==='admin' 
                            .form__group
                                label.form__label(for="checked") Checked
                                select#checked.form__dropdown( name="checked" ) 
                                    option(value="" selected) All 
                                    option(value= 'true') True
                                    option(value= 'false') False
                button.btn.btn--dark Search 
        .list__container.u-mrg-bottom-m
            ul.list      